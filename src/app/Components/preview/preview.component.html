<div class="preview-container">
  <div class="section-header">
    <h3>Preview</h3>
    <p>Vista previa del certificado de calibraci√≥n digital</p>
  </div>

  <!-- Controls Bar -->
  <div class="controls-bar">
    <div class="file-info-section">
      <i class="material-icons">code</i>
      <span class="file-name"
        >{{
          dccData?.administrativeData?.core?.certificate_number || "DCC"
        }}.xml</span
      >
    </div>

    <div class="action-buttons">
      <button
        class="download-btn"
        (click)="downloadXML()"
        [disabled]="!xmlContent"
      >
        <i class="material-icons">download</i>
        <span>Descargar XML</span>
      </button>
      <button
        class="generate-pdf-btn"
        (click)="generatePdf()"
        [disabled]="isGeneratingPdf || !dccData"
      >
        <i class="material-icons">{{
          isGeneratingPdf ? "hourglass_empty" : "picture_as_pdf"
        }}</i>
        <span>{{ isGeneratingPdf ? "Generando..." : "Generar PDF" }}</span>
      </button>
    </div>
  </div>

  <!-- XML Preview Content -->
  <div class="preview-content">
    <div class="xml-preview">
      <div class="xml-header">
        <h4>Vista XML</h4>
      </div>
      <div class="xml-content">
        <pre><code>{{ xmlContent }}</code></pre>
      </div>
    </div>
  </div>
</div>
