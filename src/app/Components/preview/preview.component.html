<div class="preview-container">
  <div class="section-header">
    <h3>Preview</h3>
    <p>Vista previa del certificado de calibraci칩n digital</p>
  </div>

  <!-- Controls Bar -->
  <div class="controls-bar">
    <div class="view-options">
      <h4>Vista:</h4>
      <div class="view-buttons">
        <button
          class="view-btn"
          [class.active]="currentView === 'xml'"
          (click)="switchView('xml')"
        >
          <i class="material-icons">code</i>
          <span>XML</span>
        </button>
        <button
          class="view-btn"
          [class.active]="currentView === 'pdf'"
          (click)="switchView('pdf')"
        >
          <i class="material-icons">picture_as_pdf</i>
          <span>PDF</span>
        </button>
      </div>
    </div>

    <button
      class="download-btn"
      (click)="downloadXML()"
      [disabled]="!xmlContent"
    >
      <i class="material-icons">download</i>
      <span>Descargar XML</span>
    </button>
  </div>

  <!-- Preview Content -->
  <div class="preview-content">
    <!-- XML Preview -->
    <div *ngIf="currentView === 'xml'" class="xml-preview">
      <div class="xml-header">
        <h4>Vista XML</h4>
        <div class="file-info">
          {{
            dccData?.administrativeData?.core?.certificate_number || "DCC"
          }}.xml
        </div>
      </div>
      <div class="xml-content">
        <pre><code>{{ xmlContent }}</code></pre>
      </div>
    </div>

    <!-- PDF Preview -->
    <div *ngIf="currentView === 'pdf'" class="pdf-preview">
      <div class="pdf-header">
        <h4>Vista PDF</h4>
        <div class="file-info">
          {{
            dccData?.administrativeData?.core?.certificate_number || "DCC"
          }}.pdf
        </div>
      </div>
      <div class="pdf-content">
        <div class="pdf-placeholder">
          <i class="material-icons">picture_as_pdf</i>
          <h4>Vista PDF</h4>
          <p>La generaci칩n de PDF estar치 disponible pr칩ximamente.</p>
          <p>
            Por ahora, puedes descargar el archivo XML y convertirlo usando
            herramientas externas.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
